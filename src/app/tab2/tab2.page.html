<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-menu-button>
      </ion-menu-button>

    </ion-buttons>
    <ion-title class='ion-text-center'>Test de réaction </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content >
<ion-card [style.height]="heightTestTop" class="ion-margin">
  <ion-card-header>

    <!-- <ion-card-title>Attention ! Sur l'ancienne version, vous deviez recliquer sur 'Commencer le test' après chaque test. Sur cette version, vous cliquez une fois sur 'commencer' et ensuite vous allez effectuer le test 12 fois consécutivement.</ion-card-title> -->
  </ion-card-header>
  <ng-container *ngIf='begin'>


  <ion-card-content  text-center padding="0px">
      Pour faire le test placez vous dans un endroit où vous êtes concentrés et où vous ne pouvez pas être dérangés.
      Quand vous êtes prêts cliquez sur "Démarrer le test". 
      Quand le rectangle ci-dessous change de couleur, cliquez dessus le plus rapidement possible.
      Faire le test 12 fois, normalement cela prend environ 1 minute. 
  </ion-card-content >
  <ion-button expand="block" disabled="{{buttonIsAble}}" (click)="beginTest()">{{buttonName}}</ion-button>

</ng-container>
  <ion-item *ngIf="!begin"  >
    <ion-label  class="ion-text-center">
        Votre temps de réaction est de : {{TR}} ms
    </ion-label>
  </ion-item>
  <ion-item *ngIf="!begin"  >
      <ion-label  class="ion-text-center">
          Nombre d'essai : {{numberOfTest}} - Meilleur score : {{bestScore}} ms
      </ion-label>
    </ion-item>
</ion-card>

<ion-card class="ion-margin" [style.height]="heightTestBottom" [style.background-color]="aColor" (click)="onClick()" >
<h2 id="tooSoon" *ngIf="tooSoon === 2"  class="ion-text-center">
  Gros malin, tu as essayé d'anticiper ! Recommence ! :-) 
</h2>

<h2 id="tooSoon" style='color:white;' *ngIf='notGoodTime'  class="ion-text-center">
  Tu as cliqué trop tôt ! Le test va redémarrer tout seul dans quelques instants.
</h2>
</ion-card>
</ion-content>
